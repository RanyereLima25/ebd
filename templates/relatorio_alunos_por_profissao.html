{% extends 'base.html' %}

{% block title %}Relat√≥rio - Alunos por Profiss√£o{% endblock %}

{% block content %}
<h2 class="mb-4">üìä Relat√≥rio: Alunos por Profiss√£o</h2>

<!-- üîç Filtro por profiss√£o -->
<form method="get" class="form-classe mb-4" style="display: flex; flex-wrap: wrap; gap: 1rem; align-items: center;">
    <label for="profissao" class="form-label mb-0"><strong>Selecione a Profiss√£o:</strong></label>
    <select name="profissao" id="profissao" class="form-select" style="max-width: 300px;" onchange="this.form.submit()">
        <option value="">Todas</option>
        {% for p in profissoes %}
            <option value="{{ p }}" {% if request.args.get('profissao') == p %}selected{% endif %}>{{ p }}</option>
        {% endfor %}
    </select>
</form>

<hr>

<!-- üî• Tabela -->
<div class="table-responsive mt-4">
    <table class="styled-table table table-bordered table-striped align-middle text-center">
        <thead class="table-dark">
            <tr>
                <th>Sala</th>
                <th>Nome</th>
                <th>Bairro</th>
                <th>Telefone</th>
                <th>Profiss√£o</th>
                <th>Escolaridade</th>
                <th>Ano de Ingresso</th>
            </tr>
        </thead>
        <tbody>
            {% for aluno in alunos_filtrados %}
            <tr>
                <td>{{ aluno.sala }}</td>
                <td>{{ aluno.nome }}</td>
                <td>{{ aluno.bairro }}</td>
                <td>{{ aluno.telefone }}</td>
                <td>{{ aluno.profissao }}</td>
                <td>{{ aluno.escolaridade }}</td>
                <td>{{ aluno.ano_ingresso }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Bot√µes -->
<div class="mt-4 d-flex gap-3">
    <a href="#" onclick="window.print()" class="btn btn-success btn-sm">üìÑ Gerar PDF</a>
    <a href="{{ url_for('relatorios') }}" class="btn btn-secondary btn-sm">‚¨ÖÔ∏è Voltar</a>
</div>

<!-- Rodap√© -->
<footer style="
    background-color: #f8f9fa;
    padding: 1.5rem 1rem;
    text-align: center;
    font-family: 'Georgia', serif;
    color: #444;
    border-top: 1px solid #ddd;
    margin-top: 3rem;
    ">
  <p style="font-size: 1rem; font-style: italic; max-width: 600px; margin: 0 auto 0.5rem;">
    ‚ÄúDai gra√ßas em todas as circunst√¢ncias, pois esta √© a vontade de Deus para voc√™s em Cristo Jesus.‚Äù
  </p>
  <p style="font-weight: bold; font-size: 0.9rem; color: #2c3e50; margin-bottom: 1rem;">
    ‚Äî 1 Tessalonicenses 5:18
  </p>
  <p style="font-size: 0.85rem; color: #999; letter-spacing: 1px; margin-top: 1rem;">
    <span style="font-weight: 700; color: #1a1a1a;">Registrado:</span> Ranyere Lima
  </p>
</footer>
{% endblock %}
